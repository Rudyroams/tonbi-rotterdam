<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { background: #333; display: flex; flex-direction: column; align-items: center; padding: 2rem; gap: 1rem; }
#walk-container { width: 100px; height: 100px; background: rgba(255,255,255,0.1); }
#confetti-container { width: 300px; height: 400px; background: rgba(255,255,255,0.1); }
button { padding: 1rem 2rem; font-size: 1rem; cursor: pointer; }
#status { color: white; font-family: sans-serif; }
</style>
</head>
<body>
<div id="status">Loading...</div>
<div id="walk-container"></div>
<button onclick="testConfetti()">Test Confetti</button>
<div id="confetti-container"></div>

<script>
function updateStatus(msg) {
  document.getElementById('status').textContent = msg;
  console.log(msg);
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js" onload="initTest()" onerror="updateStatus('LOTTIE FAILED TO LOAD')"></script>
<script>
function initTest() {
  updateStatus('Lottie loaded! Version: ' + (lottie.version || 'unknown'));
  
  const walkData = {"v":"5.7.4","fr":30,"ip":0,"op":60,"w":100,"h":100,"nm":"Walk","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"figure","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"t":0,"s":[-8]},{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"t":30,"s":[8]},{"t":60,"s":[-8]}]},"p":{"a":1,"k":[{"i":{"x":0.5,"y":1},"o":{"x":0.5,"y":0},"t":0,"s":[50,55,0],"to":[0,-0.5,0],"ti":[0,0.5,0]},{"i":{"x":0.5,"y":1},"o":{"x":0.5,"y":0},"t":30,"s":[50,53,0],"to":[0,0.5,0],"ti":[0,-0.5,0]},{"t":60,"s":[50,55,0]}]},"a":{"a":0,"k":[0,0,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"el","p":{"a":0,"k":[0,-22]},"s":{"a":0,"k":[18,18]},"nm":"head"},{"ty":"fl","c":{"a":0,"k":[1,0.42,0.21,1]},"o":{"a":0,"k":100},"nm":"fill"},{"ty":"tr","p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100}}],"nm":"head"},{"ty":"gr","it":[{"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[0,-13],[0,12]],"c":false}},"nm":"torso"},{"ty":"st","c":{"a":0,"k":[1,0.42,0.21,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":5},"nm":"st"},{"ty":"tr","p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100}}],"nm":"torso"},{"ty":"gr","it":[{"ty":"sh","ks":{"a":1,"k":[{"i":{"x":0.5,"y":1},"o":{"x":0.5,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-13,0],[0,14],[12,28]],"c":false}]},{"i":{"x":0.5,"y":1},"o":{"x":0.5,"y":0},"t":30,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[13,0],[0,14],[-12,28]],"c":false}]},{"t":60,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-13,0],[0,14],[12,28]],"c":false}]}]},"nm":"legs"},{"ty":"st","c":{"a":0,"k":[1,0.42,0.21,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":5},"nm":"st"},{"ty":"tr","p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100}}],"nm":"legs"},{"ty":"gr","it":[{"ty":"sh","ks":{"a":1,"k":[{"i":{"x":0.5,"y":1},"o":{"x":0.5,"y":0},"t":0,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12,-5],[-11,18]],"c":false}]},{"i":{"x":0.5,"y":1},"o":{"x":0.5,"y":0},"t":30,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-12,-5],[11,18]],"c":false}]},{"t":60,"s":[{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12,-5],[-11,18]],"c":false}]}]},"nm":"arms"},{"ty":"st","c":{"a":0,"k":[1,0.42,0.21,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":5},"nm":"st"},{"ty":"tr","p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100}}],"nm":"arms"}],"ip":0,"op":60,"st":0,"bm":0}]};

  try {
    lottie.loadAnimation({
      container: document.getElementById('walk-container'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      animationData: walkData
    });
    updateStatus('Walk animation loaded!');
  } catch(e) {
    updateStatus('Walk animation ERROR: ' + e.message);
  }
}

function testConfetti() {
  if(typeof lottie === 'undefined') { alert('Lottie not loaded!'); return; }
  const colors = [[1,0.42,0.21,1],[0.17,0.42,0.9,1],[1,0.8,0.1,1],[0.2,0.75,0.3,1],[0.9,0.2,0.5,1]];
  const layers = Array.from({length:14}, (_,i) => ({
    ddd:0,ind:i+1,ty:4,nm:'p'+i,sr:1,
    ks:{
      o:{a:1,k:[{i:{x:[0.5],y:[1]},o:{x:[0.5],y:[0]},t:i*3,s:[100]},{t:i*3+80,s:[0]}]},
      r:{a:1,k:[{i:{x:[0.5],y:[1]},o:{x:[0.5],y:[0]},t:i*3,s:[0]},{t:i*3+100,s:[i%2===0?360:-360]}]},
      p:{a:1,k:[{i:{x:0.3,y:1},o:{x:0.7,y:0},t:i*3,s:[30+i*27%340,-20,0],to:[0,0,0],ti:[0,0,0]},{t:i*3+90,s:[30+i*27%340+((i%3)-1)*70,500,0]}]},
      a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}
    },
    ao:0,
    shapes:[{ty:'gr',it:[
      {ty:'rc',p:{a:0,k:[0,0]},s:{a:0,k:[14,14]},r:{a:0,k:3},nm:'sq'},
      {ty:'fl',c:{a:0,k:colors[i%5]},o:{a:0,k:100},nm:'fill'},
      {ty:'tr',p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}
    ],nm:'shape'}],
    ip:i*3,op:120,st:i*3,bm:0
  }));
  const container = document.getElementById('confetti-container');
  container.innerHTML = '';
  lottie.loadAnimation({
    container, renderer:'svg', loop:false, autoplay:true,
    animationData:{v:'5.7.4',fr:60,ip:0,op:120,w:300,h:400,nm:'Confetti',ddd:0,assets:[],layers}
  });
}
</script>
</body>
</html>
